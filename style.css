html, body { height: 100%; margin: 0; padding: 0; overflow: hidden; font-family: -apple-system, BlinkMacSystem-Font, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #333; color: white; }
#main-container { display: flex; height: 100dvh; } 
#user-list-container { width: 250px; background: #2a2a2a; border-right: 1px solid #444; padding: 1rem; box-sizing: border-box; flex-shrink: 0; display: flex; flex-direction: column; }
#user-list-container h3 { margin-top: 0; flex-shrink: 0; border-bottom: 1px solid #444; padding-bottom: 0.5rem; }
#conversations, #online-users { overflow-y: auto; }
#conversations p, #online-users p { margin: 0.5rem 0; font-size: 0.9rem; word-break: break-all; cursor: pointer; padding: 8px; border-radius: 4px; }
#conversations p:hover, #online-users p:hover { background-color: #444; }
.online-indicator { color: #28a745; font-size: 1.2em; margin-right: 8px; }
#app-container { display: flex; flex-direction: column; flex-grow: 1; }
#header { background: #2a2a2a; padding: 0 1rem; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid #444; flex-shrink: 0; height: 50px; box-sizing: border-box; }
#header h1 { font-size: 1.2rem; margin: 0; }
#sound-toggle { background: #444; border: 1px solid #666; font-size: 0.8rem; padding: 0.5rem; border-radius: 5px; cursor: pointer; color: white; }
#messages { list-style-type: none; margin: 0; padding: 0; flex-grow: 1; overflow-y: auto; background-color: #36393f; }
#messages > li { padding: 0.5rem 1rem; display: flex; }
.message-content { flex-grow: 1; word-break: break-word; }
.timestamp { font-size: 0.7em; color: #888; margin-left: 1rem; white-space: nowrap; align-self: center; }
li > strong { margin-right: 0.5rem; }
.self-message { flex-direction: row-reverse; }
.self-message .message-content { text-align: right; }
.log { color: gray; font-style: italic; justify-content: center; display: flex; }
#form { background: #2a2a2a; padding: 0.5rem; display: none; box-sizing: border-box; backdrop-filter: blur(10px); flex-shrink: 0; }
#input { border: none; padding: 0 1rem; flex-grow: 1; border-radius: 2rem; margin: 0.25rem; font-size: 1rem; background: #444; color: white; height: 40px; }
#input:focus { outline: none; }
#form > button { background: #5865f2; border: none; padding: 0 1.5rem; margin: 0.25rem; border-radius: 20px; outline: none; color: #fff; height: 40px; cursor: pointer; }
#login-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #333; color: white; display: flex; justify-content: center; align-items: center; z-index: 200; }
#login-box { background: #2a2a2a; padding: 2rem; border-radius: 8px; text-align: center; border: 1px solid #444; }
#login-box h1 { margin-top: 0; }
#name-input { width: 80%; padding: 0.8rem; margin: 1rem 0; border: 1px solid #666; background: #444; color: white; border-radius: 5px; font-size: 1rem; }
#submit-name { background: #5865f2; color: white; padding: 0.8rem 1.5rem; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem; }


@media (max-width: 768px) {
    #main-container {
        flex-direction: column;
    }
    #user-list-container {
        width: 100%;
        /* === DEĞİŞİKLİK BURADA: 150px yerine daha esnek bir birim kullandık === */
        height: 30dvh; 
        flex-shrink: 0;
        border-right: none;
        border-bottom: 1px solid #444;
    }

    #app-container {
        /* Burayı da yeni yüksekliğe göre güncelledik */
        height: calc(100dvh - 30dvh); 
        flex-grow: 1;
        overflow: hidden; 
    }

    #messages {
        flex: 1 1 auto; 
        overflow-y: auto; 
        min-height: 0; 
    }

    #form {
        height: auto;
        padding: 0.5rem;
        flex-shrink: 0; 
    }

    #conversations, #online-users {
        flex: 1;
        min-height: 0;
    }

    #input {
        margin: 0.25rem;
    }
    #form > button {
        margin: 0.25rem;
    }
}
.new-message-indicator {
    font-weight: bold;
    background-color: #4f545c !important;
    border-radius: 4px;
    color: #fff !important;
}

.new-message-indicator::before {
    content: '●';
    color: #5865f2;
    margin-right: 8px;
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% {
        opacity: 1;
    }
    50% {
        opacity: 0.3;
    }
    100% {
        opacity: 1;
    }
}
